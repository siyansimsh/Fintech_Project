
本專案建立了一套互動式的個人信貸風險評估系統，整合了 Random Forest (RF)、Logistic Regression (LR) 與 XGBoost 三種機器學習模型。系統提供使用者友善的網頁介面，可即時預測違約機率，並透過 SHAP 瀑布圖提供可解釋性的風險分析報告。
============================================================================

環境準備 (Prerequisites)

在執行程式之前，請確保你的電腦已安裝 Python (建議版本 3.8 以上)，並安裝以下必要的套件。

請打開終端機 (Terminal / Command Prompt) 執行以下指令：

pip install streamlit pandas numpy scikit-learn xgboost shap plotly joblib matplotlib

============================================================================

檔案結構說明

請確保你的專案資料夾包含以下檔案，才能順利運作：

1. 主程式 (網頁介面): web_app.py: Streamlit 網頁應用程式的核心程式碼。

2. 模型訓練程式 Train and Save All Models.py: 用來重新訓練模型並生成 .pkl 檔案的腳本。

3. uci_default_cleaned.csv

4. reference_data.csv: (由訓練程式生成) 用於繪製同儕比較圖的背景數據。

============================================================================

5. 模型檔 (由訓練程式生成)

	1. rf_model.pkl: Random Forest 模型。

	2. lr_model.pkl: Logistic Regression 模型。

	3. xgb_model.pkl: XGBoost 模型。

	4. feature_names.pkl: 特徵名稱列表 (確保輸入順序正確)。

============================================================================

如何執行系統 (Quick Start)

情境一：直接啟動網頁 (如果你已經有 .pkl 模型檔)

	如果資料夾內已經有上述的 .pkl 模型檔案，請直接執行以下步驟：

	開啟 VS Code (或終端機)，切換到專案資料夾。

	在終端機輸入以下指令：streamlit run web_app.py

系統會自動開啟瀏覽器，你就可以開始使用評估系統了！

+++++++++++++++++++++++++++++++++++++++++++++++++++++++

情境二：重新訓練模型 (如果缺少 .pkl 檔案)

如果你的資料夾是空的，或是想要更新模型參數，請先執行訓練程式：

	執行訓練腳本：python "Train and Save All Models.py"

等待程式跑完，確認終端機顯示 「全部完成！所有模型已儲存」。

確認資料夾內是否出現了 rf_model.pkl, reference_data.csv 等檔案。

接著依照「情境一」的指令啟動網頁。

============================================================================

系統功能

多模型切換：在左側邊欄可即時切換 RF、LR、XGBoost 三種模型引擎，比較不同演算法的評分差異。

AI 風險解釋：

瀑布圖 (Waterfall Plot)：直觀顯示每個特徵是「加分 (綠色)」還是「扣分 (紅色)」。

文字診斷報告：系統會自動生成白話文解釋，告訴使用者主要的風險來源（如：延遲還款、額度使用率過高）。

同儕比較：顯示申請人在整體客群中的風險位置。

============================================================================

常見問題排除

Error: File not found

請確認 uci_default_cleaned.csv 是否在資料夾中。

請確認是否已執行過訓練程式生成 .pkl 檔。

Error: Streamlit requires raw Python (.py) files...

這通常是因為檔名有空白鍵且沒加引號。請確保檔名正確，或使用 streamlit run "檔名.py"。

SHAP 圖表顯示錯誤

本系統已針對 Random Forest 的版本相容性做過修正 (check_additivity=False)，若仍有問題請確認 shap 套件是否為最新版。

